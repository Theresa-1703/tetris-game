import type { PieceId, Matrix } from './types'

// Rotation states per piece (0,1,2,3). 1 = filled, -1 = empty

const I: Matrix[] = [
  [
    [0,0,0,0],
    [1,1,1,1],
    [0,0,0,0],
    [0,0,0,0],
  ],
  [
    [0,0,1,0],
    [0,0,1,0],
    [0,0,1,0],
    [0,0,1,0],
  ],
  [
    [0,0,0,0],
    [1,1,1,1],
    [0,0,0,0],
    [0,0,0,0],
  ],
  [
    [0,1,0,0],
    [0,1,0,0],
    [0,1,0,0],
    [0,1,0,0],
  ],
]

const J: Matrix[] = [
  [
    [1,0,0],
    [1,1,1],
    [0,0,0],
  ],
  [
    [0,1,1],
    [0,1,0],
    [0,1,0],
  ],
  [
    [0,0,0],
    [1,1,1],
    [0,0,1],
  ],
  [
    [0,1,0],
    [0,1,0],
    [1,1,0],
  ],
]

const L: Matrix[] = [
  [
    [0,0,1],
    [1,1,1],
    [0,0,0],
  ],
  [
    [0,1,0],
    [0,1,0],
    [0,1,1],
  ],
  [
    [0,0,0],
    [1,1,1],
    [1,0,0],
  ],
  [
    [1,1,0],
    [0,1,0],
    [0,1,0],
  ],
]

const O: Matrix[] = [
  [
    [1,1],
    [1,1],
  ],
  [
    [1,1],
    [1,1],
  ],
  [
    [1,1],
    [1,1],
  ],
  [
    [1,1],
    [1,1],
  ],
]

const S: Matrix[] = [
  [
    [0,1,1],
    [1,1,0],
    [0,0,0],
  ],
  [
    [0,1,0],
    [0,1,1],
    [0,0,1],
  ],
  [
    [0,0,0],
    [0,1,1],
    [1,1,0],
  ],
  [
    [1,0,0],
    [1,1,0],
    [0,1,0],
  ],
]

const T: Matrix[] = [
  [
    [0,1,0],
    [1,1,1],
    [0,0,0],
  ],
  [
    [0,1,0],
    [0,1,1],
    [0,1,0],
  ],
  [
    [0,0,0],
    [1,1,1],
    [0,1,0],
  ],
  [
    [0,1,0],
    [1,1,0],
    [0,1,0],
  ],
]

const Z: Matrix[] = [
  [
    [1,1,0],
    [0,1,1],
    [0,0,0],
  ],
  [
    [0,0,1],
    [0,1,1],
    [0,1,0],
  ],
  [
    [0,0,0],
    [1,1,0],
    [0,1,1],
  ],
  [
    [0,1,0],
    [1,1,0],
    [1,0,0],
  ],
]

export const TETROMINOES: Record<PieceId, Matrix[]> = {
  0: I,
  1: J,
  2: L,
  3: O,
  4: S,
  5: T,
  6: Z,
}

